<div class="flex flex-col items-center">
  <button
    (click)="toggleListening()"
    [class.pulse]="isListening"
    [class.bg-red-500]="isListening"
    [class.bg-gray-400]="!isListening"
    class="w-20 h-20 rounded-full shadow-lg flex items-center justify-center transition-all hover:shadow-xl"
  >
    <svg
      class="w-10 h-10 text-white"
      fill="none"
      stroke="currentColor"
      viewBox="0 0 24 24"
    >
      @if (isListening) {
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
        />
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"
        />
      } @else {
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"
        />
      }
    </svg>
  </button>

  <p class="mt-4 text-sm text-gray-600">
    {{ isListening ? "Listening..." : "Tap to speak" }}
  </p>

  @if (transcript) {
    <div class="mt-4 p-4 bg-gray-100 rounded-lg max-w-md">
      <p class="text-gray-800">{{ transcript }}</p>
    </div>
  }
</div>
